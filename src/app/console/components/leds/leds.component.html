<h1>LEDs</h1>
<button class="btn btn-success-outline" (click)="add = true">Ajouter une led</button>
<clr-datagrid *ngIf="LedList">
    <clr-dg-column>ID</clr-dg-column>
    <clr-dg-column>Nom</clr-dg-column>
    <clr-dg-column>Latitude</clr-dg-column>
    <clr-dg-column>Longitude</clr-dg-column>
    <clr-dg-column>Controleur</clr-dg-column>
    <clr-dg-column>GPIO</clr-dg-column>
    <clr-dg-column>Op√©rations</clr-dg-column>
    <clr-dg-row *clrDgItems="let led of LedList">
        <clr-dg-cell>{{led.LedId}}</clr-dg-cell>
        <clr-dg-cell>{{led.LedName}}</clr-dg-cell>
        <clr-dg-cell>{{led.Latitude}}</clr-dg-cell>
        <clr-dg-cell>{{led.Longitude}}</clr-dg-cell>
        <clr-dg-cell>{{led.Controleur}}</clr-dg-cell>
        <clr-dg-cell>R: {{led.Rgpio}} G: {{led.Ggpio}} B: {{led.Bgpio}}</clr-dg-cell>
        <clr-dg-cell>
            <button class="btn btn-outline">Voir</button>
            <button class="btn btn-danger-outline" (click)="removeLed(led.LedId)">Supprimer</button>
        </clr-dg-cell>
    </clr-dg-row>
    <clr-dg-footer></clr-dg-footer>
</clr-datagrid>
<span *ngIf="!LedList && !errorMessage" class="spinner spinner-md">
    Chargement...
</span>
<clr-alert [clrAlertType]="'alert-danger'" *ngIf="errorMessage">
    <span class="alert-item">
      <span class="alert-text">
          {{errorMessage}}
      </span>
    </span>
</clr-alert>

<clr-modal [(clrModalOpen)]="add">
    <h3 class="modal-title">Ajouter une LED</h3>
    <div class="modal-body">
        <form class="compact">
            <section class="form-block">
                <div class="form-group">
                    <label>Nom de la LED</label>
                    <input type="text" placeholder="Nom de la led" size="35" [(ngModel)]="LedAdd.LedName" [ngModelOptions]="{standalone: true}">
                </div>
                <div class="form-group">
                    <label>Latitude</label>
                    <input type="text"placeholder="Latitude" size="35" [(ngModel)]="LedAdd.Latitude" [ngModelOptions]="{standalone: true}">
                </div>
                <div class="form-group">
                    <label>Longitude</label>
                    <input type="text" placeholder="Longitude" size="35" [(ngModel)]="LedAdd.Longitude" [ngModelOptions]="{standalone: true}">
                </div>
                <div class="form-group">
                    <label>Controleur</label>
                    <input type="text" placeholder="Controleur" size="35" [(ngModel)]="LedAdd.Controleur" [ngModelOptions]="{standalone: true}">
                </div>
                <div class="form-group">
                    <label>GPIO</label>
                    <label>R: </label>
                    <div class="select">
                        <select [(ngModel)]="LedAdd.Rgpio" [ngModelOptions]="{standalone: true}">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                        </select>
                    </div>
                    <label>G: </label>
                    <div class="select">
                        <select [(ngModel)]="LedAdd.Ggpio" [ngModelOptions]="{standalone: true}">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                        </select>
                    </div>
                    <label>B: </label>
                    <div class="select">
                        <select [(ngModel)]="LedAdd.Bgpio" [ngModelOptions]="{standalone: true}">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                        </select>
                    </div>
                </div>
            </section>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="add = false; resetLedAdd()">Annuler</button>
        <button type="button" class="btn btn-primary" (click)="add = false; addLed()">Ok</button>
    </div>
</clr-modal>
